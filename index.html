<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Solar Altitude Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 15px;
      width: 500px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      animation: fadeIn 1s ease-in-out;
    }
    h2 {
      color: #0072ff;
      text-align: center;
      margin-bottom: 20px;
      animation: slideDown 0.8s ease-in-out;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background: #0072ff;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #005fa3;
      transform: scale(1.05);
    }
    pre {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 16px;
      color: #333;
      overflow-x: auto;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Solar Altitude Calculator</h2>

    <label>Day</label>
    <input type="number" id="day" placeholder="Enter day">

    <label>Month</label>
    <input type="number" id="month" placeholder="Enter month">

    <label>Hour</label>
    <input type="number" id="hour" placeholder="Enter hour (24h)">

    <label>Minute</label>
    <input type="number" id="minute" placeholder="Enter minute">

    <label>Latitude (°)</label>
    <input type="number" id="latitude" placeholder="Enter latitude">

    <label>Local Longitude (°)</label>
    <input type="number" id="longLocal" placeholder="Enter local longitude">

    <label>Standard Longitude (°)</label>
    <input type="number" id="longStandard" placeholder="Enter standard longitude">

    <label>Daylight Saving (1=yes, 0=no)</label>
    <input type="number" id="dst" placeholder="1 or 0">

    <label>Equation of Time ET (minutes)</label>
    <input type="number" id="ET" placeholder="Enter ET">

    <button onclick="calculate()">Calculate</button>

    <pre id="results"></pre>
  </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/suncalc/1.9.0/suncalc.min.js"></script>
<script>
function calculate() {
  const day = parseInt(document.getElementById("day").value);
  const month = parseInt(document.getElementById("month").value);
  let hour = parseInt(document.getElementById("hour").value);
  const minute = parseFloat(document.getElementById("minute").value);
  const latitude = parseFloat(document.getElementById("latitude").value);
  const longLocal = parseFloat(document.getElementById("longLocal").value);
  const longStandard = parseFloat(document.getElementById("longStandard").value);
  const dst = parseInt(document.getElementById("dst").value);
  const ET = parseFloat(document.getElementById("ET").value);

  if (dst === 1) hour -= 1;

  const date = new Date(2025, month - 1, day, hour, minute);
  const sunPos = SunCalc.getPosition(date, latitude, longLocal);

  let output = "";
  output += "Day of year (N): " + dayNumber(day, month) + "\n";
  output += "Solar Altitude (β) using SunCalc.js: " + (sunPos.altitude * 180 / Math.PI).toFixed(4) + "°\n";
  output += "Solar Azimuth (γ) using SunCalc.js: " + (sunPos.azimuth * 180 / Math.PI).toFixed(4) + "°\n";

  document.getElementById("results").textContent = output;
}

function dayNumber(day, month) {
  const daysInMonth = [0,31,28,31,30,31,30,31,31,30,31,30,31];
  let total = 0;
  for (let i = 1; i < month; i++) total += daysInMonth[i];
  return total + day;
}
</script>
</body>
</html>
